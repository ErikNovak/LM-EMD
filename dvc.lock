schema: '2.0'
stages:
  train:
    cmd: python src/train.py data/sasaki18 data/model.pth data/losses
    deps:
    - path: data/sasaki18
      md5: 6a8a419e77c9cc164224666ff2cad7c1.dir
      size: 18928496529
      nfiles: 10
    - path: src/library/bert_model.py
      md5: 354332f84c89ccecf778f53d8ce76254
      size: 6350
    - path: src/library/data_loader.py
      md5: c995f25f2bbc31ba9a6dc7ae12d57c98
      size: 3726
    - path: src/train.py
      md5: f5a9874f9fba8f963b9a63b528e1e2b3
      size: 6235
    params:
      params.yaml:
        model.nit: 500
        model.ranking: max
        model.reg: 0.02
        train.epochs: 1
        train.epsilon: 1e-06
        train.grad_update_step: 16
        train.learning_rate: 1e-06
        train.loss: margin_ranking
        train.optimizer: adamw
        train.weight_decay: 0.01
    outs:
    - path: data/losses
      md5: d782a9e4ddc06edfc2e0d1ab0d5afb13.dir
      size: 1908
      nfiles: 6
    - path: data/model.pth
      md5: 08bbaa925d1c6a2eabe08c55eac25372
      size: 711465576
  evaluate:
    cmd: python src/evaluate.py data/sasaki18 data/model.pth data/scores
    deps:
    - path: data/model.pth
      md5: 08bbaa925d1c6a2eabe08c55eac25372
      size: 711465576
    - path: data/sasaki18
      md5: 6a8a419e77c9cc164224666ff2cad7c1.dir
      size: 18928496529
      nfiles: 10
    - path: src/evaluate.py
      md5: b0a4de96a146b3c1dd8a3f897d09621d
      size: 5802
    - path: src/library/bert_model.py
      md5: 354332f84c89ccecf778f53d8ce76254
      size: 6350
    - path: src/library/data_loader.py
      md5: c995f25f2bbc31ba9a6dc7ae12d57c98
      size: 3726
    params:
      params.yaml:
        model.nit: 500
        model.ranking: max
        model.reg: 0.02
        train.epochs: 1
        train.epsilon: 1e-06
        train.grad_update_step: 16
        train.learning_rate: 1e-06
        train.optimizer: adamw
        train.weight_decay: 0.01
    outs:
    - path: data/scores/data_en_de.json
      md5: 51966d81d2109bd240b74320f49c068d
      size: 64
    - path: data/scores/data_en_fr.json
      md5: 51966d81d2109bd240b74320f49c068d
      size: 64
    - path: data/scores/data_en_ja.json
      md5: ac65e23cc74dd3f7762eb6d5cb26e75c
      size: 63
    - path: data/scores/data_en_sw.json
      md5: 233a59c61a75cad302dcf73cb607b581
      size: 34
    - path: data/scores/data_en_tl.json
      md5: f2ba97b5ce128e6d55c921e62c3386ff
      size: 63
    - path: data/scores/scores.json
      md5: 990451b7c2d6804754b14982d3c5c145
      size: 2490
